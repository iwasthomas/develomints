<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="resume">
	<select id="selectAllResume" parameterType="m" resultType="r">
		select
			r.resume_no as resumeNo,
			member_no as memberNo,
			resume_title as resumeTitle,
			r.aducation,
						school_no as schoolNo,
						s.resume_no as resumeNo,
						school_name as schoolName,
						school_local as schoolLocal,
						school_start as schoolStart,
						school_end as schoolEnd,
						major,
						s.aducation,
			career,
			activity,
			activity_place as activityPlace,
			activity_start as activityStart,
			activity_end as activityEnd,
			activity_content as activityContent,
			certi_name as certiName,
			certi_issue as certiIssue,
			certi_pass as certiPass,
			certi_date as certiDate,
			my_tech as myTech,
			veterans,
			military,
			selfintro_name as selfintroName,
			selfintro_content as selfintroContent,
			work_form as workForm,
			money,
			work_place as workPlace,
			write_date as writeDate
		from resume r
		join school s
		on r.resume_no = s.resume_no
		<!-- where member_no = #{memberNo} -->	<!-- 로그인되면 주석 제거 -->
	</select>
	
	<select	id="selectOneResume" parameterType="_int" resultType="r">
		select
			r.resume_no as resumeNo,
			member_no as memberNo,
			resume_title as resumeTitle,
			r.aducation,
						school_no as schoolNo,
						s.resume_no as resumeNo,
						school_name as schoolName,
						school_local as schoolLocal,
						school_start as schoolStart,
						school_end as schoolEnd,
						major,
						s.aducation,
			career,
			activity,
			activity_place as activityPlace,
			activity_start as activityStart,
			activity_end as activityEnd,
			activity_content as activityContent,
			certi_name as certiName,
			certi_issue as certiIssue,
			certi_pass as certiPass,
			certi_date as certiDate,
			my_tech as myTech,
			veterans,
			military,
			selfintro_name as selfintroName,
			selfintro_content as selfintroContent,
			work_form as workForm,
			money,
			work_place as workPlace,
			write_date as writeDate
		from resume r
		join school s
		on r.resume_no = s.resume_no
		from resume
	</select>
	
	<insert id="insertResume" parameterType="map">
		insert into resume values(resume_seq.nextval, #{memberNo}, #{resumeTitle}, #{aducation}, #{schoolName}, , #{schoolLocal}
		, #{schoolStart}, #{schoolEnd}, #{major}, #{career}, #{activity}, #{activityPlace}, #{activityStart}, #{activityEnd}, #{activityContent}
		, #{certiName}, #{certiIssue}, #{certiPass}, #{certiDate}, #{myTech}, #{veterans}, #{military}, #{selfintroName}, #{selfintroContent}
		, #{workForm}, #{money}, #{workPlace}, #{writeDate})
	</insert>
</mapper>
